<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
      <div id="container">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
      </div>
      <div id="score"></div>

    <script>
        let userScore = 0;
        let compScore = 0;
        let winner;
        const buttons = document.querySelectorAll('button');
        let score = document.getElementById('score');

    function disablebtns() {
            buttons.forEach(elem => {
                    elem.disabled = true;
            });
    }

    function computerPlay() {
        let compSelect;
        let ranNum = Math.floor(Math.random() * 4) + 1; //randomly create a number between 1 and 3
        
        if (ranNum == 1) {
            compSelect = 'Rock';
        } else if (ranNum == 2) {
            compSelect = 'Paper';
        } else {
            compSelect = 'Scissors';
        }
        return compSelect;
    }

    
    function playRound(playerSelection) {                            // function taking two parameters, playerselection and computer selection. Plays 1 round of Rock, Paper Scissors and return the result with a string 
        let computerSelection = computerPlay();                                          // prompt for user input
        

        if (computerSelection == "Rock" && playerSelection == "paper") {             // need to add the explanation x beats y for each outcome
                winner = `You win! ${playerSelection} beats ${computerSelection}`;
                userScore += 1; 
                score.textContent = `${winner} \n Player: ${userScore} \n Computer: ${compScore}`;         
        } else if (computerSelection == "Rock" && playerSelection == "scissors"){
                winner = `You lose! ${computerSelection} beats ${playerSelection}`;
                compScore += 1;
                score.textContent = `${winner} \n Player: ${userScore} \n Computer: ${compScore}`;
        } else if (computerSelection == "Paper" && playerSelection == "rock"){
                winner = `You lose! ${computerSelection} beats ${playerSelection}`;
                compScore += 1;
                score.textContent = `${winner} \n Player: ${userScore} \n Computer: ${compScore}`;
        } else if (computerSelection == "Paper" && playerSelection == "scissors"){
                winner = `You win! ${playerSelection} beats ${computerSelection}`;
                userScore += 1; 
                score.textContent = `${winner} \n Player: ${userScore} \n Computer: ${compScore}`;
        } else if (computerSelection == "Scissors" && playerSelection == "paper"){
                winner = `You lose! ${computerSelection} beats ${playerSelection}`;
                compScore += 1;
                score.textContent = `${winner} \n Player: ${userScore} \n Computer: ${compScore}`;
        } else if (computerSelection == "Scissors" && playerSelection == "rock"){
                winner = `You win! ${playerSelection} beats ${computerSelection}`;
                userScore += 1;
                score.textContent = `${winner} \n Player: ${userScore} \n Computer: ${compScore}`;
        } else if (computerSelection == "Scissors" && playerSelection == "scissors"){
                winner = "Draw!";
                userScore += 1; 
                compScore += 1;
                score.textContent = `${winner} \n Player: ${userScore} \n Computer: ${compScore}`;
        } else if (computerSelection == "Rock" && playerSelection == "rock"){
                winner = "Draw!";
                userScore += 1; 
                compScore += 1;
                score.textContent = `${winner} \n Player: ${userScore} \n Computer: ${compScore}`;
        } else if (computerSelection == "Paper" && playerSelection == "paper"){
                winner ="Draw!";
                userScore += 1; 
                compScore += 1;
                score.textContent = `${winner} \n Player: ${userScore} \n Computer: ${compScore}`;
                
        } else {
                winner = "Oops! Something went wrong."
        }


        if (userScore === 5) {
                score.textContent = 'Game over. You win!';
                disablebtns();
               
        } else if (compScore === 5) {
                score.textContent = 'Game over. You lose!';
                disablebtns();

        }
        
}


    /*function game() {
      let result;
            for (let i = 0; i < 5; i++) {
                    result = playRound();
                    console.log(result);                                    //print result to console after each round.

                    if (winner == "You win this round!") {
                            userScore++;                                    // increment user score
                    }
                    else if (winner == "Computer wins this round!") {
                            compScore++;                                    // increment computer score
                    };

            }
            if (compScore > userScore) {
                    alert("You lose!");
            }
            else if (userScore > compScore) {
                    alert ("You are the champion!");
            } else {
                    alert ("It's a tie!");
            };
            console.log(userScore);
            console.log(compScore);
    }

    console.log(game()); */

    buttons.forEach(button => {                                             // run playRound when any of the buttons are clicked and use value of button as user input
                button.addEventListener('click', function(){
                        playRound(button.id)
                })
    })

</script>
</body>
</html>